# **오늘의 알고리즘 풀이**
### 2024-05-30 (목)
---

문제이름|알고리즘|난이도|링크|
|:---:|:---:|:---:|:---:|
|[사격연습](https://www.acmicpc.net/problem/27958)|<span style="color:red">**Brute Force, Simulation**</span>|골드 4|[풀이](https://github.com/hotchapa/Algorithm/blob/main/JS/Baekjoon/27958.js)|

## 문제 풀이 과정 정리

### 1. 답지 참고 여부 및 고민한 시간
- 봄
- 100분

### 2. 도전한 풀이 방법과 선택 이유
사격연습 문제는 격자판에서 주어진 탄환을 이용해 목표물을 맞추는 시뮬레이션 + 브루트포스 문제로, 탄환의 발사 순서와 위치를 결정하고, 분열 로직을 잘 세우는 것이 핵심이었다. 문제 조건의 범위가 2≤N≤8, 1≤K≤5 등으로 작았기 때문에 브루트 포스를 이용해 가능한 모든 발사 순서를 시도해 최고 점수를 얻는 방법을 선택하였다.

#### 시간 복잡도 계산
- 격자판의 크기 N이 최대 8이고, 탄환의 개수 K가 최대 5이므로, 가능한 모든 발사 순서는 N^K = 8^5 = 32,768가지이다.
- 여기에 점수판 갱신과 복사 로직, 발사로직 등을 고려해도 N제곱 정도일 것이고, 2,097,152가지 정도로 예상된다.
- 그래서 충분히 브루트 포스로 접근할 수 있는 문제라고 판단했다.

### 3. 풀이 방법

  1. **초기 설정**:
     - `orgBoard`는 초기 격자판을 저장하며, `initialBoard`와 `currentBoard`는 각 시도마다 격자판을 복사하여 사용함.

  2. **보드 복사 함수**:
     - `copyBoards` 함수는 `orgBoard`를 `currentBoard`와 `initialBoard`로 복사함.
     - 초기 격자판에서 목표물(값 >= 10)은 `initialBoard`에서 0으로 설정함.

  3. **발사 시뮬레이션**:
     - `play` 함수는 주어진 발사 순서대로 탄환을 발사하고 점수를 계산함.
     - `bang` 함수는 주어진 탄환을 특정 행에 발사하고 점수를 계산함.
     - 목표물(값 >= 10)을 맞추면 점수를 얻고, 맞추지 못하면 탄환의 힘을 감소시킴.
     - 목표물을 맞추면 주위 4방향으로 초기 힘의 1/4 값의 새로운 목표물을 만듦.

  4. **목표물 생성 함수**:
     - `makeTarget` 함수는 목표물을 맞춘 위치 주변에 새로운 목표물을 생성함.

  5. **모든 발사 순서 시도**:
     - `permWithRepetition` 함수는 가능한 모든 발사 순서를 재귀적으로 생성하고, 최고 점수를 기록.

### 4. 코드 작성 시 신경 쓴 부분

  - 보드의 상태를 정확히 복사하고 유지하는 부분.
  - 탄환 발사 후의 점수 계산과 목표물 생성 (4방향 분열) 로직 구현.
  - 가능한 모든 발사 순서를 생성하고 시도하는 로직.

### 5. 어려움을 느꼈던 부분 

**[보드 복사 및 발사 시뮬레이션]**

입력 받은 배열을 현재 체력, 초기 체력을 저장할 2개의 배열에 각각 복사해서 사격을 진행하는 게 포인트였는데 이 부분을 간과해서 초반에 애를 먹었다. 또, 목표물을 맞춘 후 새로운 목표물을 생성하는 로직에서 시간을 너무 잡아먹었다. 함수를 나누지 않고 작성하다보니 스파게티 코드가 되어버렸고, 결과도 46이 아니라 계속해서 44, 45 등으로 카운트가 덜 되는 형태로 출력되었다. 결국 답지를 보았고, 이를 통해 함수 분리와 보드 복사 로직을 참고할 수 있었다.
